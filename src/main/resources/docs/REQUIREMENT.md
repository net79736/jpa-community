# 1. 서비스 개요
  - 서비스명: 스포츠 커뮤니티 게시판 서비스
  - 목적 : 사용자가 관심있는 커뮤니티에서 글을 조회, 작성하며 소통하는 시스템을 구현
---
# 2. 주요 기능 및 시나리오
  ## 2.1. 카테고리
    - 관심있는 또는 인기있는 카테고리 목록을 확인 할 수 있어야 한다.
    - 관심있는 카테고리를 생성해달라고 요청 가능해야 한다.
    - 카테고리에 전체가 존재해서 카테고리(대) 클릭 시 해당 카테고리의 전체 글을 보여준다.
    - 카테고리 구성도
    +----+------------------+-----------+-------+-------------+
    | id | name             | parent_id | depth | order_index |
    +----+------------------+-----------+-------+-------------+
    | 1  | 스포츠           | NULL      | 0     | 1           |
    +----+------------------+-----------+-------+-------------+
    | 2  | 야구             | 1         | 1     | 1           |
    | 3  | 축구             | 1         | 1     | 2           |
    | 4  | 농구             | 1         | 1     | 3           |
    +----+------------------+-----------+-------+-------------+
    | 5  | KBO              | 2         | 2     | 1           |
    | 6  | MLB              | 2         | 2     | 2           |
    | 7  | NPB              | 2         | 2     | 3           |
    | 8  | K리그            | 3         | 2     | 1           |
    | 9  | 프리미어리그     | 3         | 2     | 2           |
    | 10 | 라리가           | 3         | 2     | 3           |
    +----+------------------+-----------+-------+-------------+
    | 11 | KBL              | 4         | 2     | 1           |
    | 12 | NBA              | 4         | 2     | 2           |
    | 13 | 유로리그         | 4         | 2     | 3           |
    +----+------------------+-----------+-------+-------------+
  ## 2.2 게시글 CRUD
    - 카테고리를 선택 후 글을 작성한다. 
    - 카테고리는 자신이 현재 표시되는 카테고리에 글이 작성되어야 한다.
    - 글을 한꺼번에 여러번 작성하지 못하도록 해야한다. (특정 시간 동안 한 사용자가 최대 몇개의 글을 작성하지 못하도록 처리)
  ## 2.3 게시글 데이터 확인
    - 사용자 편의를 위한 글의 정보들은 모두 표시되어야 한다.
    - 게시글의 최근 인기글이나 최신글 또는 이전(지난 1일, 1주, 1년, 전체) 과 같은 통계형 검색 옵션을 제공한다.
    - 사용자는 자신이 필요로 하는 글을 편리하게 검색 할 수 있다. (검색 옵션 제공: 제목, 내용, 작성자, 제목 + 내용)
    - 게시글 목록 표시 할 때 썸내일 표시, 댓글 수, 카테고리 등 필요한 정보들을 표시할 수 있어야한다.
    - 공지 글에 대한 맨 상단에 표시될수 있도록 처리. 공지글 종류가 여러개 존재 할 수도 있다는 것을 고려한다.
  ## 2.4 추천하기
    - 좋아요 기능. 싫어요 기능 추가는 고려
  ## 2.5 댓글 달기
    - 사용자는 댓글을 작성할 수 있다.
    - 댓글, 대댓글, 대댓글에서 특정 아이디 지정한 댓글, 몇 개월 전 표시, 댓글 목록 표시 시 인기순, 최신순으로 정렬 가능, 댓글 더보기 기능 (최초 50 뿌리고 스크롤 시 더보기) 대댓글의 경우 3개씩 뿌리고 스크롤 시 더보기 처리
  ## 2.6 신고하기
    - 부적절한 글 및 댓글에 대해서 글을 신고 할 수 있다.
    - 신고 사유 선택(콤보 박스), 상세 내용 입력
  ## 2.7 페이징 기능
    - 다음 >, < 이전 방식으로 갈 것인지 아니면 아니면 숫자를 나레이 해서 유저가 pageNumber를 선택 가능한 방식으로 갈 건인지 (50 | 100 | 150)
---
# 3. 생성할 API
* 게시글 목록을 가져올 때 공지글에 대한 고민 TODO : 공지글의 종류가 여러개라고 했을 때 어떻게 할것인가?
  게시글의 종류를 구분할 수 있는 별도의 테이블을 만들어서 관리하는 것도 나쁘지 않아 보임. 1: 일반글, 2: 공지글, 3. 투표글, 4. .... 이렇게 말이야 
1. 카테고리를 생성 하는 API 
2. 카테고리를 수정하는 API
3. 카테고리를 삭제하는 API. 삭제 시 order 가 밀리지 않도록 처리. (대) 카테고리 삭제 시 하위 카테고리 및 데이터 삭제 검토 (삭제가 아닌 숨김 처리도 검토) 
4. 인기있는 카테고리 표시 API.

6. 카테고리 선택 후 글 작성 API - 첨부 파일에 대한 고려. 하나의 IP, ID 로 여러번 글을 게시하지 못하도록 처리
7. 게시글을 수정 API. (카테고리 변경 가능하게 할 것인지 여부)
8. 게시글을 삭제 API. (글 삭제 시 글의 댓글에 대한 삭제) (실제 글의 삭제 역시 검토)
9. 인기 게시글을 가져온다. (기갈별 인기글 조회 가능), [전체별, 카테고리별] 
10. 최근 작성된 게시글의 목록을 가져오는 API. (카테고리(소), 제목, 댓글) 통합에 대한 처리 ?
11. 검색된 게시글 목록을 가져오는 API. (제목, 내용, 작성자, 제목 + 내용)

12. 추천하기 기능 API (싫어요 또한 고려)

13. 댓글 목록 가져오기 API
14. 댓글 작성하기 API
15. 댓글 수정하기 API
16. 댓글 삭제하기 API (댓글 삭제시 하위 댓글은 존재. ["삭제된 댓글입니다." 라고 표시될 수 있도록 처리]). 특정인을 멘션하여 댓글 작성할 수 있도록 처리. 대댓글 기능 역시 고려

---
# 4. 기술적 요구사항
  ## 4.1 JPA 사용
    - JPQL
    - Data JPA
    - Query Dsl
  ## 4.2 CI/CD 적용
    - Jenkins (고려중)
  ## 4.3 WAS Server
    - Apache Tomcat || Enginx
---
# 5. 테스트 요구사항
  ## 5.1 각 API에 대한 단위 테스트 최소 1개 이상 작성
```
---
# 6. 주요 기능에 대한 세부 고민 사항
  ## 6.1 인기 카테고리 목록 리스트 기준
    - 인기 카테고리 기준을 정의: 활발하게 활동하고 있는지 여부? (최근 N 일간 글이 가장 많이 활발하게 작성된 곳 10개의 카테고리)
  ## 6.1 게시글에 욕설에 대한 자제 방지 방법에 대한 고려
    - 기능 : 커뮤니티 게시판을 클린하게 유지함
    - TODO
  ## 6.2 사용자가 자주 사용하는 글 또는 카테고리에 대해 손쉽게 접근
    - 전체 카테고리에 대한 인기글 목록 표시 기능
    - 인기 있는 카테고리 목록을 표시해주는 기능
    - 최근 글들을 표시해주는 기능
    - 현재 카테고리의 인기 글들을 표시
  ## 6.3 인기글 산정 기준 필요
    - 추천수, 조회수, 댓글수를 종합하여 인기글을 산정. 
    - 위의 3개를 합산하여 갯수만으로 인기글을 산정할 것인지 아니면 각 항목 마다 점수를 도입하여 좀 더 까다롭게 인기글을 산정할 것인지 기준 필요
  ## 6.4 첨부파일(이미지, 동영상, 짤) 에 대해서 Size 의 제한
  ## 6.5 신고하기 시 글의 내용 확인 방법 고려
    - 신고 하기 시 어떻게 운영자가 해당 여부에 대해서 확인 할 수 있을지 확인 필요. (운영자가 확인 이전에 글을 삭제하면 확인 불가능한 경우)
  ## 6.6 상단에 뉴스와 소식과 같은 정보 리스트들을 작은 화면에 제공하는 UI 
    - 인기글은 검색 옵션 형태로 바꾼다고 하더라고 해당 정보에 대한 존재 여부 고민 필요