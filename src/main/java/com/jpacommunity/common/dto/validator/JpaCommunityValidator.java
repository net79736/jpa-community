package com.jpacommunity.common.dto.validator;

import com.jpacommunity.common.domain.JpaCommunity;
import com.jpacommunity.member.dto.update.MemberRoleUpdateRequest;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class JpaCommunityValidator {
    public static boolean validate(MemberRoleUpdateRequest request) {
        // 환경 변수 읽기
        String clientId = System.getenv(JpaCommunity.CLIENT_ID_KEY);
        String clientSecret = System.getenv(JpaCommunity.CLIENT_SECRET_KEY);

        if (clientId == null || clientSecret == null) {
            log.error("환경변수가 존재하지 않습니다.");
            return false;
        }

        return clientId.equals(request.getClientId()) && clientSecret.equals(request.getSecretKey());
    }
}
